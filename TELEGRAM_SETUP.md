# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram –±–æ—Ç–∞ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## 1. –°–æ–∑–¥–∞–Ω–∏–µ Telegram –±–æ—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram –∏ –Ω–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ [@BotFather](https://t.me/botfather)
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot`
3. –í–≤–µ–¥–∏—Ç–µ –∏–º—è –¥–ª—è –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "Store Courier Bot")
4. –í–≤–µ–¥–∏—Ç–µ username –¥–ª—è –±–æ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "store_courier_bot")
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω –±–æ—Ç–∞

## 2. –ü–æ–ª—É—á–µ–Ω–∏–µ Chat ID

### –î–ª—è –ª–∏—á–Ω–æ–≥–æ —á–∞—Ç–∞ —Å –±–æ—Ç–æ–º:
1. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –µ–º—É –∫–æ–º–∞–Ω–¥—É `/start`
2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `https://api.telegram.org/bot<YOUR_BOT_TOKEN>/getUpdates`
3. –ù–∞–π–¥–∏—Ç–µ –≤ –æ—Ç–≤–µ—Ç–µ `"chat":{"id":` –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ ID (—Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã!)

### –î–ª—è –≥—Ä—É–ø–ø–æ–≤–æ–≥–æ —á–∞—Ç–∞:
1. –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –≥—Ä—É–ø–ø—É
3. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `https://api.telegram.org/bot<YOUR_BOT_TOKEN>/getUpdates`
4. –ù–∞–π–¥–∏—Ç–µ –≤ –æ—Ç–≤–µ—Ç–µ `"chat":{"id":` –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ ID (–¥–ª—è –≥—Ä—É–ø–ø ID –±—É–¥–µ—Ç –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º —á–∏—Å–ª–æ–º!)

**–í–∞–∂–Ω–æ:** Chat ID –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–∏—Å–ª–æ–º –±–µ–∑ –∫–∞–≤—ã—á–µ–∫!

## 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –¥–æ–±–∞–≤—å—Ç–µ:

```env
# Database
DATABASE_URL="postgresql://username:password@localhost:5432/store_courier"

# Telegram Bot Configuration
TELEGRAM_BOT_TOKEN=your_bot_token_here
TELEGRAM_CHAT_ID=your_chat_id_here

# Site URL for Telegram notifications
NEXT_PUBLIC_SITE_URL=http://localhost:3000
```

**–í–∞–∂–Ω–æ:** –ó–∞–º–µ–Ω–∏—Ç–µ `your_bot_token_here` –∏ `your_chat_id_here` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è!

## 4. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –∑–∞–∫–∞–∑–∞—Ö
- –û—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∫–æ–≥–¥–∞ –∑–∞–∫–∞–∑ –ø–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ç—É—Å `COURIER_WAIT` (—á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω—é—é —Å–∏—Å—Ç–µ–º—É)
- –°–æ–¥–µ—Ä–∂–∞—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞–∫–∞–∑–µ, –∫–ª–∏–µ–Ω—Ç–µ –∏ —Ç–æ–≤–∞—Ä–∞—Ö
- –í–∫–ª—é—á–∞—é—Ç –∫–Ω–æ–ø–∫—É –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ —Å–∞–π—Ç –∫—É—Ä—å–µ—Ä–∞

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞
- –û—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ –ª—é–±–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞
- –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏–π –∏ –Ω–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å
- –í–∫–ª—é—á–∞—é—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫—É—Ä—å–µ—Ä–µ (–µ—Å–ª–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω)

## 5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä: `npm run dev`
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ `/courier/dashboard` –∏ –≤–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –ø—Ä–æ—Ñ–∏–ª—å –∫—É—Ä—å–µ—Ä–∞ (–ø—Ä–∞–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª)
4. –ù–∞–∂–º–∏—Ç–µ "ü§ñ –¢–µ—Å—Ç Telegram –±–æ—Ç–∞" –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
5. –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞ –Ω–∞ "–û–∂–∏–¥–∞–µ—Ç –∫—É—Ä—å–µ—Ä–∞" –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

## 6. –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –æ—à–∏–±–æ–∫

### –û—à–∏–±–∫–∞: "TELEGRAM_BOT_TOKEN –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ —Ñ–∞–π–ª–µ `.env` –µ—Å—Ç—å —Å—Ç—Ä–æ–∫–∞ `TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–∫–µ–Ω —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ (–±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤)

### –û—à–∏–±–∫–∞: "TELEGRAM_CHAT_ID –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ —Ñ–∞–π–ª–µ `.env` –µ—Å—Ç—å —Å—Ç—Ä–æ–∫–∞ `TELEGRAM_CHAT_ID=–≤–∞—à_chat_id`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Chat ID —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ (—Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã)

### –û—à–∏–±–∫–∞: "Chat –Ω–µ –Ω–∞–π–¥–µ–Ω"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ TELEGRAM_CHAT_ID —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã (–±–µ–∑ –∫–∞–≤—ã—á–µ–∫)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ —á–∞—Ç/–≥—Ä—É–ø–ø—É
- –î–ª—è –ª–∏—á–Ω–æ–≥–æ —á–∞—Ç–∞: –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É –∫–æ–º–∞–Ω–¥—É `/start`
- –î–ª—è –≥—Ä—É–ø–ø–æ–≤–æ–≥–æ —á–∞—Ç–∞: –¥–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É –∏ –¥–∞–π—Ç–µ –µ–º—É –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Chat ID –ø–æ–ª—É—á–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ —á–µ—Ä–µ–∑ getUpdates

### –û—à–∏–±–∫–∞: "–û—à–∏–±–∫–∞ Telegram API"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–∞ –±–æ—Ç–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Chat ID —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —á–∞—Ç—É, –≥–¥–µ –µ—Å—Ç—å –±–æ—Ç

### –û—à–∏–±–∫–∞: "ETELEGRAM"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω

## 7. API Endpoints

- `PATCH /api/courier/orders/[orderId]/status` - –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞ –∫—É—Ä—å–µ—Ä–æ–º
- `POST /api/test/telegram` - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞

## 8. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### –ù–æ–≤—ã–π –∑–∞–∫–∞–∑ (COURIER_WAIT):
```
üÜï –ù–æ–≤—ã–π –∑–∞–∫–∞–∑!

üìã –ó–∞–∫–∞–∑ #order_id
üë§ –ö–ª–∏–µ–Ω—Ç: customer_name
üìû –¢–µ–ª–µ—Ñ–æ–Ω: customer_phone
üìç –ê–¥—Ä–µ—Å: delivery_address
üí∞ –°—É–º–º–∞: total_amount —Å–æ–º
üìÖ –î–∞—Ç–∞: created_at

üí¨ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: customer_comment (–µ—Å–ª–∏ –µ—Å—Ç—å)

–¢–æ–≤–∞—Ä—ã:
‚Ä¢ product_name (amount —à—Ç.) - price —Å–æ–º
...

[üåê –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å–∞–π—Ç] - –∫–Ω–æ–ø–∫–∞
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞:
```
üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞ #order_id

–°—Ç–∞—Ç—É—Å –∏–∑–º–µ–Ω–µ–Ω: old_status ‚Üí new_status

üë§ –ö–ª–∏–µ–Ω—Ç: customer_name
üìû –¢–µ–ª–µ—Ñ–æ–Ω: customer_phone
üìç –ê–¥—Ä–µ—Å: delivery_address

üöö –ö—É—Ä—å–µ—Ä: courier_name (–µ—Å–ª–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω)
```
